<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Continuous Integration &mdash; Distributed Systems 28 Nov 2021 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Clocks and Synchronization" href="../clocks/clocks.html" />
    <link rel="prev" title="Project Build Management With Maven" href="../maven/maven.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #922247" >
            <a href="../index.html" class="icon icon-home"> Distributed Systems
          </a>
              <div class="version">
                28 Nov 2021
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../issues/issues.html">Introduction and Issues</a></li>
<li class="toctree-l1"><a class="reference internal" href="../networking/networking.html">Networking Primer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../concurrency/concurrency.html">Concurrency and Threads</a></li>
<li class="toctree-l1"><a class="reference internal" href="../storage/storage.html">Distributed Systems and Storage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../storage/storage.html#storage-devices">Storage Devices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../storage/storage.html#local-storage">Local Storage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../storage/storage.html#distributed-filesystems">Distributed Filesystems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../storage/storage.html#case-study-sun-nfs">Case Study - SUN NFS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../directories/directories.html">Directories and LDAP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../maven/maven.html">Project Build Management With Maven</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Continuous Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../clocks/clocks.html">Clocks and Synchronization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../trans/trans.html">Distributed Transactions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dns/dns.html">Domain Name Service</a></li>
<li class="toctree-l1"><a class="reference internal" href="../queue/queue.html">Distributed Queues</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mpi/mpi.html">Message Passing Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../smtp/smtp.html">SMTP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../corba/corba.html">Object Brokers and CORBA</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rest/rest.html">REST and Web Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nosql/nosql.html">NoSQL Databases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../agents/agents.html">Distributed Agents</a></li>
<li class="toctree-l1"><a class="reference internal" href="../apache_spark/apache_spark.html">Apache Spark</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bit_torrent/bit_torrent.html">BitTorrent</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hadoop/hadoop.html">Hadoop Distributed File System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../message_queues/message_queues.html">Message Queues</a></li>
<li class="toctree-l1"><a class="reference internal" href="../object_brokering/object_brokering.html">Object Brokering</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rsync/rsync.html">File Sychronization and rsync</a></li>
<li class="toctree-l1"><a class="reference internal" href="../volunteer/volunteer.html">Volunteer Computing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cloud/cloud.html">Cloud Computing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../iot/iot.html">Internet of Things and Pervasive Systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../election/election.html">Election Algorithms</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #922247" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Distributed Systems</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Continuous Integration</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/ci/ci.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="continuous-integration">
<h1>Continuous Integration<a class="headerlink" href="#continuous-integration" title="Permalink to this headline"></a></h1>
<section id="what-does-continuous-integration-do">
<h2>What Does Continuous Integration Do?<a class="headerlink" href="#what-does-continuous-integration-do" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p>To support incremental, agile development for one or more developers</p></li>
<li><p>Provides notification of success or failure of forward integration as rapidly as possible. This is especially important on larger teams.</p></li>
<li><p>Performs validation of the product by running unit tests, and automated user interface tests</p></li>
<li><p>Can perform scheduled test or production environment deployments.</p></li>
</ul>
</section>
<section id="how-often-is-continuous-integration-run">
<h2>How Often is Continuous Integration Run?<a class="headerlink" href="#how-often-is-continuous-integration-run" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><dl class="simple">
<dt>Continuous Integration can be run as:</dt><dd><ul>
<li><p>Batches - once one build and verification is complete, another immediately starts (grouping more than once change, potentially)</p></li>
<li><p>Upon changes - build and validate the product at every change</p></li>
<li><p>Iteration builds - every day, every week, or some other short period, a distributable product with an installer or package is created. This can be used for manual testing by a test team or by customers.</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</section>
<section id="what-are-the-bits-and-pieces-of-continuous-integration">
<h2>What are the Bits and Pieces of Continuous Integration?<a class="headerlink" href="#what-are-the-bits-and-pieces-of-continuous-integration" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><dl class="simple">
<dt>Build Controllers:</dt><dd><ul>
<li><p>A service that coordinates build requests and build operations</p></li>
<li><p>Manages resources such as artifact repositories, build folders, and individual build nodes.</p></li>
<li><p>One or more of these may exist depending upon the product involved.</p></li>
<li><p>Usually a very I/O and memory bound service</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Build nodes:</dt><dd><ul>
<li><p>Answer requests from the build controller (the work horse of continuous integration)</p></li>
<li><p>Pulls source code, performs compilation, executes automated tests</p></li>
<li><p>Some environments have as few as 2-3 build nodes, some have hundreds</p></li>
<li><p>Usually a CPU and I/O bound service</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Artifact Database:</dt><dd><ul>
<li><p>Stores the N most recent continuous integration builds</p></li>
<li><p>Stores external 3rd party libraries used in building various versions of the product</p></li>
<li><p>Stores several versions of released builds of individual modules of the product (in the case of component or plugin architectures)</p></li>
<li><p>Stores installers for released or testable products</p></li>
<li><p>Typically has dozens of TB of storage on a fast SAN</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Deployment of Continuous Integration:</dt><dd><ul>
<li><p>Build controllers typically have fairly high resource utilization</p></li>
<li><p>Build nodes typically do not have high resource utilization</p></li>
<li><p>The process of compiling and running unit tests typically does not fully utilize the power of a build node</p></li>
<li><p>So, a common practice is to virtualize hosts that run build nodes and place at run at least two hosts per build node</p></li>
<li><p>It is uncommon to allow more than one build task to occur simultaneously on a build node</p></li>
<li><p>Build nodes are commonly re-imaged every day - every few days.</p></li>
<li><p>Many continuous integration products are capable of running in the cloud with dynamic resource utilization for the build nodes. Both Team City and Team Foundation Server are well known for this</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
<figure class="align-default" id="id1">
<a class="reference internal image-reference" href="../_images/ci_system.jpg"><img alt="../_images/ci_system.jpg" src="../_images/ci_system.jpg" style="width: 336.59999999999997px; height: 270.0px;" /></a>
<figcaption>
<p><span class="caption-text">A Possible Corporate Deployment of a Continuous Integration System</span><a class="headerlink" href="#id1" title="Permalink to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="continuous-integration-products-vendors">
<h2>Continuous Integration Products / Vendors<a class="headerlink" href="#continuous-integration-products-vendors" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p>Many exist, but these are what you see out there in the wild:</p></li>
<li><p>Jet Brains - Team City</p></li>
<li><p>Microsoft - Team Foundation Server</p></li>
<li><p>Borland - Silk</p></li>
<li><p>IBM - Rational Suite</p></li>
<li><p>Apache Foundation - Continuum</p></li>
<li><p>Eclipse Foundation - Hudson</p></li>
<li><p>Many in-house / script based systems</p></li>
</ul>
</section>
<section id="continuous-integration-and-the-key-characteristics-of-distributed-systems">
<h2>Continuous Integration and the Key Characteristics of Distributed Systems<a class="headerlink" href="#continuous-integration-and-the-key-characteristics-of-distributed-systems" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><dl class="simple">
<dt>Openness</dt><dd><ul>
<li><p>Several, including TFS and Team City, and any FOSS system allows for scripting, plugins, and expansion.</p></li>
<li><p>Some are more “canned” solutions like Team City, others are fully customizable like TFS</p></li>
<li><p>Most have a “free as in beer” mode that begins to cost money in wider deployments</p></li>
<li><p>Some of the FOSS alternatives can be a challenge to configure</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Concurrency</dt><dd><ul>
<li><p>Continuous integration systems typically allow for replication and parallelism at the level of the build controller and in build nodes</p></li>
<li><p>When the cloud is used, resources consumption and cost can be flexible.</p></li>
<li><p>Supporting CI for 100s of developers can require a large amount of compute and I/O resources. These systems definitely have to scale.</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Scalability</dt><dd><ul>
<li><p>Some systems are able to scale to the range of 10s of build nodes and controllers, most systems can scale to 100s</p></li>
<li><p>See <a class="reference external" href="http://tfs.visualstudio.com">http://tfs.visualstudio.com</a>. This is a system that Microsoft has built that scales to the cloud level. You pay a subscription and use fee to use this.</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Fault Tolerance</dt><dd><ul>
<li><p>Fault tolerance exists on several levels</p></li>
<li><dl class="simple">
<dt>First is the build controller. Typically a primary / secondary replication system is employed.</dt><dd><ul>
<li><p>Issues of network partitioning aren’t usually handled, just single-multi node failures</p></li>
</ul>
</dd>
</dl>
</li>
<li><p>Second is the build node. The build controller will periodically poll build nodes to test their connectivity. If one node is lost, it is taken out of the pool. Any pending builds on such a system can be re-queued by the developer or automatically by the build controller</p></li>
<li><p>Source control and Artifact DB - these usually exist on systems with redundant and fast disk arrays that maintain daily backups. These systems can usually handle single hardware failures and continue to operate.</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Transparency</dt><dd><ul>
<li><p>To the developer, the only thing that exists is the source control system and the build controller.</p></li>
<li><p>The build controller manages a queue of “builds” that a developer monitors.</p></li>
<li><dl class="simple">
<dt>Whether there are 10s of build nodes or 100s, the developer is not aware of this detail or aware of where the build occurs.</dt><dd><ul>
<li><p>transparency of location</p></li>
<li><p>transparency of scale</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
</ul>
</section>
<section id="case-study-my-simple-ci-system">
<h2>Case Study - My Simple CI System<a class="headerlink" href="#case-study-my-simple-ci-system" title="Permalink to this headline"></a></h2>
</section>
<section id="the-front-page-of-team-city">
<h2>The Front Page of Team City<a class="headerlink" href="#the-front-page-of-team-city" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p>Build definitions for my active projects</p></li>
<li><p>Several Windows and Linux software projects</p></li>
</ul>
<figure class="align-default" id="id2">
<a class="reference internal image-reference" href="../_images/front_page.jpg"><img alt="../_images/front_page.jpg" src="../_images/front_page.jpg" style="width: 51.300000000000004px; height: 45.0px;" /></a>
<figcaption>
<p><span class="caption-text">The Front Page of Team City</span><a class="headerlink" href="#id2" title="Permalink to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="build-nodes">
<h2>Build Nodes<a class="headerlink" href="#build-nodes" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><dl class="simple">
<dt>3 Build Nodes</dt><dd><ul>
<li><p>Two Linux nodes</p></li>
<li><p>One Windows nodes</p></li>
<li><p>Supports the development of Windows and Linux software</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
<figure class="align-default">
<a class="reference internal image-reference" href="../_images/build_nodes.jpg"><img alt="../_images/build_nodes.jpg" src="../_images/build_nodes.jpg" style="width: 51.0px; height: 26.950000000000003px;" /></a>
</figure>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../maven/maven.html" class="btn btn-neutral float-left" title="Project Build Management With Maven" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../clocks/clocks.html" class="btn btn-neutral float-right" title="Clocks and Synchronization" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2013-2019, George K. Thiruvathukal and Sarah Kaylor.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>