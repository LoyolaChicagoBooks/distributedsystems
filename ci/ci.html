

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Continuous Integration &mdash; Distributed Systems v0.4 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Clocks and Synchronization" href="../clocks/clocks.html" />
    <link rel="prev" title="Project Build Management With Maven" href="../maven/maven.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Distributed Systems
          

          
          </a>

          
            
            
              <div class="version">
                v0.4
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../issues/issues.html">Introduction and Issues</a></li>
<li class="toctree-l1"><a class="reference internal" href="../networking/networking.html">Networking Primer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../concurrency/concurrency.html">Concurrency and Threads</a></li>
<li class="toctree-l1"><a class="reference internal" href="../storage/storage.html">Distributed Systems and Storage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../storage/storage.html#storage-devices">Storage Devices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../storage/storage.html#local-storage">Local Storage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../storage/storage.html#distributed-filesystems">Distributed Filesystems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../storage/storage.html#case-study-sun-nfs">Case Study - SUN NFS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../directories/directories.html">Directories and LDAP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../maven/maven.html">Project Build Management With Maven</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Continuous Integration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#what-does-continuous-integration-do">What Does Continuous Integration Do?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#how-often-is-continuous-integration-run">How Often is Continuous Integration Run?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#what-are-the-bits-and-pieces-of-continuous-integration">What are the Bits and Pieces of Continuous Integration?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#continuous-integration-products-vendors">Continuous Integration Products / Vendors</a></li>
<li class="toctree-l2"><a class="reference internal" href="#continuous-integration-and-the-key-characteristics-of-distributed-systems">Continuous Integration and the Key Characteristics of Distributed Systems</a></li>
<li class="toctree-l2"><a class="reference internal" href="#case-study-my-simple-ci-system">Case Study - My Simple CI System</a></li>
<li class="toctree-l2"><a class="reference internal" href="#the-front-page-of-team-city">The Front Page of Team City</a></li>
<li class="toctree-l2"><a class="reference internal" href="#build-nodes">Build Nodes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../clocks/clocks.html">Clocks and Synchronization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../trans/trans.html">Distributed Transactions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dns/dns.html">Domain Name Service</a></li>
<li class="toctree-l1"><a class="reference internal" href="../queue/queue.html">Distributed Queues</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mpi/mpi.html">Message Passing Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../smtp/smtp.html">SMTP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../corba/corba.html">Object Brokers and CORBA</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rest/rest.html">REST and Web Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nosql/nosql.html">NoSQL Databases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../agents/agents.html">Distributed Agents</a></li>
<li class="toctree-l1"><a class="reference internal" href="../apache_spark/apache_spark.html">Apache Spark</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bit_torrent/bit_torrent.html">BitTorrent</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hadoop/hadoop.html">Hadoop Distributed File System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../message_queues/message_queues.html">Message Queues</a></li>
<li class="toctree-l1"><a class="reference internal" href="../object_brokering/object_brokering.html">Object Brokering</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rsync/rsync.html">File Sychronization and rsync</a></li>
<li class="toctree-l1"><a class="reference internal" href="../volunteer/volunteer.html">Volunteer Computing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cloud/cloud.html">Cloud Computing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../iot/iot.html">Internet of Things and Pervasive Systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../election/election.html">Election Algorithms</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Distributed Systems</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Continuous Integration</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/ci/ci.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="continuous-integration">
<h1>Continuous Integration<a class="headerlink" href="#continuous-integration" title="Permalink to this headline">¶</a></h1>
<div class="section" id="what-does-continuous-integration-do">
<h2>What Does Continuous Integration Do?<a class="headerlink" href="#what-does-continuous-integration-do" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>To support incremental, agile development for one or more developers</li>
<li>Provides notification of success or failure of forward integration as rapidly as possible. This is especially important on larger teams.</li>
<li>Performs validation of the product by running unit tests, and automated user interface tests</li>
<li>Can perform scheduled test or production environment deployments.</li>
</ul>
</div>
<div class="section" id="how-often-is-continuous-integration-run">
<h2>How Often is Continuous Integration Run?<a class="headerlink" href="#how-often-is-continuous-integration-run" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><dl class="first docutils">
<dt>Continuous Integration can be run as:</dt>
<dd><ul class="first last">
<li>Batches - once one build and verification is complete, another immediately starts (grouping more than once change, potentially)</li>
<li>Upon changes - build and validate the product at every change</li>
<li>Iteration builds - every day, every week, or some other short period, a distributable product with an installer or package is created. This can be used for manual testing by a test team or by customers.</li>
</ul>
</dd>
</dl>
</li>
</ul>
</div>
<div class="section" id="what-are-the-bits-and-pieces-of-continuous-integration">
<h2>What are the Bits and Pieces of Continuous Integration?<a class="headerlink" href="#what-are-the-bits-and-pieces-of-continuous-integration" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><dl class="first docutils">
<dt>Build Controllers:</dt>
<dd><ul class="first last">
<li>A service that coordinates build requests and build operations</li>
<li>Manages resources such as artifact repositories, build folders, and individual build nodes.</li>
<li>One or more of these may exist depending upon the product involved.</li>
<li>Usually a very I/O and memory bound service</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Build nodes:</dt>
<dd><ul class="first last">
<li>Answer requests from the build controller (the work horse of continuous integration)</li>
<li>Pulls source code, performs compilation, executes automated tests</li>
<li>Some environments have as few as 2-3 build nodes, some have hundreds</li>
<li>Usually a CPU and I/O bound service</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Artifact Database:</dt>
<dd><ul class="first last">
<li>Stores the N most recent continuous integration builds</li>
<li>Stores external 3rd party libraries used in building various versions of the product</li>
<li>Stores several versions of released builds of individual modules of the product (in the case of component or plugin architectures)</li>
<li>Stores installers for released or testable products</li>
<li>Typically has dozens of TB of storage on a fast SAN</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Deployment of Continuous Integration:</dt>
<dd><ul class="first last">
<li>Build controllers typically have fairly high resource utilization</li>
<li>Build nodes typically do not have high resource utilization</li>
<li>The process of compiling and running unit tests typically does not fully utilize the power of a build node</li>
<li>So, a common practice is to virtualize hosts that run build nodes and place at run at least two hosts per build node</li>
<li>It is uncommon to allow more than one build task to occur simultaneously on a build node</li>
<li>Build nodes are commonly re-imaged every day - every few days.</li>
<li>Many continuous integration products are capable of running in the cloud with dynamic resource utilization for the build nodes. Both Team City and Team Foundation Server are well known for this</li>
</ul>
</dd>
</dl>
</li>
</ul>
<div class="figure" id="id1">
<a class="reference internal image-reference" href="../_images/ci_system.jpg"><img alt="../_images/ci_system.jpg" src="../_images/ci_system.jpg" style="width: 336.59999999999997px; height: 270.0px;" /></a>
<p class="caption"><span class="caption-text">A Possible Corporate Deployment of a Continuous Integration System</span></p>
</div>
</div>
<div class="section" id="continuous-integration-products-vendors">
<h2>Continuous Integration Products / Vendors<a class="headerlink" href="#continuous-integration-products-vendors" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Many exist, but these are what you see out there in the wild:</li>
<li>Jet Brains - Team City</li>
<li>Microsoft - Team Foundation Server</li>
<li>Borland - Silk</li>
<li>IBM - Rational Suite</li>
<li>Apache Foundation - Continuum</li>
<li>Eclipse Foundation - Hudson</li>
<li>Many in-house / script based systems</li>
</ul>
</div>
<div class="section" id="continuous-integration-and-the-key-characteristics-of-distributed-systems">
<h2>Continuous Integration and the Key Characteristics of Distributed Systems<a class="headerlink" href="#continuous-integration-and-the-key-characteristics-of-distributed-systems" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><dl class="first docutils">
<dt>Openness</dt>
<dd><ul class="first last">
<li>Several, including TFS and Team City, and any FOSS system allows for scripting, plugins, and expansion.</li>
<li>Some are more “canned” solutions like Team City, others are fully customizable like TFS</li>
<li>Most have a “free as in beer” mode that begins to cost money in wider deployments</li>
<li>Some of the FOSS alternatives can be a challenge to configure</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Concurrency</dt>
<dd><ul class="first last">
<li>Continuous integration systems typically allow for replication and parallelism at the level of the build controller and in build nodes</li>
<li>When the cloud is used, resources consumption and cost can be flexible.</li>
<li>Supporting CI for 100s of developers can require a large amount of compute and I/O resources. These systems definitely have to scale.</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Scalability</dt>
<dd><ul class="first last">
<li>Some systems are able to scale to the range of 10s of build nodes and controllers, most systems can scale to 100s</li>
<li>See <a class="reference external" href="http://tfs.visualstudio.com">http://tfs.visualstudio.com</a>. This is a system that Microsoft has built that scales to the cloud level. You pay a subscription and use fee to use this.</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Fault Tolerance</dt>
<dd><ul class="first last">
<li>Fault tolerance exists on several levels</li>
<li><dl class="first docutils">
<dt>First is the build controller. Typically a primary / secondary replication system is employed.</dt>
<dd><ul class="first last">
<li>Issues of network partitioning aren’t usually handled, just single-multi node failures</li>
</ul>
</dd>
</dl>
</li>
<li>Second is the build node. The build controller will periodically poll build nodes to test their connectivity. If one node is lost, it is taken out of the pool. Any pending builds on such a system can be re-queued by the developer or automatically by the build controller</li>
<li>Source control and Artifact DB - these usually exist on systems with redundant and fast disk arrays that maintain daily backups. These systems can usually handle single hardware failures and continue to operate.</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Transparency</dt>
<dd><ul class="first last">
<li>To the developer, the only thing that exists is the source control system and the build controller.</li>
<li>The build controller manages a queue of “builds” that a developer monitors.</li>
<li><dl class="first docutils">
<dt>Whether there are 10s of build nodes or 100s, the developer is not aware of this detail or aware of where the build occurs.</dt>
<dd><ul class="first last">
<li>transparency of location</li>
<li>transparency of scale</li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
</ul>
</div>
<div class="section" id="case-study-my-simple-ci-system">
<h2>Case Study - My Simple CI System<a class="headerlink" href="#case-study-my-simple-ci-system" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="the-front-page-of-team-city">
<h2>The Front Page of Team City<a class="headerlink" href="#the-front-page-of-team-city" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Build definitions for my active projects</li>
<li>Several Windows and Linux software projects</li>
</ul>
<div class="figure" id="id2">
<a class="reference internal image-reference" href="../_images/front_page.jpg"><img alt="../_images/front_page.jpg" src="../_images/front_page.jpg" style="width: 51.300000000000004px; height: 45.0px;" /></a>
<p class="caption"><span class="caption-text">The Front Page of Team City</span></p>
</div>
</div>
<div class="section" id="build-nodes">
<h2>Build Nodes<a class="headerlink" href="#build-nodes" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><dl class="first docutils">
<dt>3 Build Nodes</dt>
<dd><ul class="first last">
<li>Two Linux nodes</li>
<li>One Windows nodes</li>
<li>Supports the development of Windows and Linux software</li>
</ul>
</dd>
</dl>
</li>
</ul>
<div class="figure">
<a class="reference internal image-reference" href="../_images/build_nodes.jpg"><img alt="../_images/build_nodes.jpg" src="../_images/build_nodes.jpg" style="width: 51.0px; height: 26.950000000000003px;" /></a>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../clocks/clocks.html" class="btn btn-neutral float-right" title="Clocks and Synchronization" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../maven/maven.html" class="btn btn-neutral float-left" title="Project Build Management With Maven" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2013-2019, George K. Thiruvathukal and Sarah Kaylor

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>